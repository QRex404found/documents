# 🧩 기능적 요구사항 (Functional Requirements)

## 📌 Frontend

### 🔹 헤더 (Header)
- 로그인 여부 판단 ← **토큰 기반**
- 구성:
  - **로고**: 클릭 시 메인 페이지 이동
  - **Analysis**: QR Scan 페이지로 이동
  - **My Post**: My Post 페이지로 이동
  - **Community**: Community 페이지로 이동
  - **Login 버튼**: Login 페이지로 이동
  - 로그인하지 않은 상태에서 탭 클릭 시 → 로그인 요청 팝업 → 로그인 버튼 → 로그인 페이지 이동

#### 🔸 로그인 상태 시
- **아바타(프로필)** 클릭 시 탭 창 표시  
  - **Edit Profile 탭**
    - `Save Changed`: 수정 내용 저장
  - **Delete Account 탭**
    - `Delete Account`: 회원 탈퇴 완료
- **Logout 버튼**: 로그아웃 후 메인 화면으로 이동

---

### 🦖 메인 페이지 (Main Page)
- 중앙에 **마스코트(공룡)** 배치

---

### 🔑 로그인 페이지 (Login Page)
- ID 입력  
- Password 입력  
- `Login` 버튼: 로그인 실행  
- `Sign Up`: 회원가입 페이지로 이동  
- `Login with Google`: Google 로그인 창으로 이동  
- `Login with Kakao`: Kakao 로그인 창으로 이동  

---

### 📝 회원가입 페이지 (Sign Up Page)
- `name`: 이름 입력  
- `id`: 아이디 입력  
- `check` 버튼: ID 중복 확인  
- `password`: 비밀번호 입력  
- `confirm password`: 비밀번호 확인  
- `sign up` 버튼:
  - **성공 시** → 성공 알림 팝업 → `Home` 버튼 → 메인 화면 이동  
  - **실패 시** → 실패 알림 팝업 → `Try Again` 버튼 → 다시 Sign Up 페이지 이동  

---

### 🔍 Analysis 페이지 (QR Scan)
> **(QR 스캔 전 → Analyzing QR → QR 스캔 후)**

- 로그인하지 않은 상태에서 탭 클릭 시 → 로그인 요청 팝업 → 로그인 페이지 이동  
- **QR 스캔 전 페이지**
  - 왼쪽: `QR Scan` 버튼  
  - 오른쪽: `QR Analysis History`  
- **Analyzing QR 페이지**
  - 진행 상태에 따라 **Progress Bar 애니메이션** 표시  
  - 피싱 여부 판별 완료 시 → QR 스캔 후 페이지로 이동  
- **QR 스캔 후 페이지**
  - 왼쪽: `QR Analysis Result`  
  - 오른쪽: `QR Analysis History`  

#### QR Scan 기능
- **QR 스캔 아이콘 클릭 시**  
  - 사진 보관함 / 사진 찍기 / 파일 선택 중 선택  
  - 선택 후 → Analyzing QR 페이지 이동  
  - 동작:
    - 사진 보관함 → 갤러리 실행  
    - 사진 찍기 → 카메라 실행  
    - 파일 선택 → 파일 탐색기 실행  

#### QR Analysis History
- 이전 분석 기록 조회 가능  
- `Title` 클릭 시 해당 QR 분석 결과 표시  
- 페이지네이션 지원  

#### QR Analysis Result
- 상태: `안전 / 주의 / 위험`  
- URL: 연결된 주소 표시  
- 제목: 사용자 입력  
- IP Address: 해당 URL의 IP 표시  
- `Submit` 버튼:
  - 성공 → 성공 팝업 → History에 기록 추가  
  - 실패 → 실패 팝업  

---

### 💬 Community 페이지
- `Community` 클릭 시 → 최신 게시글 목록 표시  
- **게시글 목록**
  - 제목 클릭 → 게시글 세부사항 팝업 or 탭으로 표시  
- **게시글 세부사항**
  - 제목, 내용, 사진, URL, 댓글 표시  
- **댓글 기능**
  - 최신 댓글 1개 표시  
  - 클릭 시 Drawer 형태로 전체 댓글 목록 표시  
  - 댓글 작성란 + `Submit` 버튼으로 댓글 등록  
- 페이지네이션 지원  

---

### 🧾 My Post 페이지
- **왼쪽: 게시글 작성**
  - 사진 첨부  
  - 제목 입력  
  - URL 입력  
  - 내용 입력  
  - `Write` 버튼 → 게시글 등록  

- **오른쪽: My Post 기록**
  - `My Post` 클릭 시 → 최신 게시물 표시  
  - 사용자가 작성한 모든 게시물 목록 표시  
  - 페이지네이션 지원  

---

## ⚙️ Backend (Java)

### 🔹 헤더
- 로그인 시 **JWT 토큰 발급**
- **회원정보 수정**
  - 수정 내용 백엔드 → DB 반영 → 성공 응답 반환  
- **회원탈퇴**
  - 요청 → DB에서 정보 삭제 → 토큰 삭제 → 완료 응답 반환  

---

### 🔑 로그인 기능
- **Login 버튼**
  - 입력값을 DB와 비교  
  - 일치 시 JWT 토큰 발급 → 성공 응답  
  - 불일치 시 실패 응답  
- **Google 로그인**
  - 프론트에서 인가 코드 전달  
  - 백엔드 → 구글 인증 서버 요청 (client id, secret 포함)  
  - 구글 응답(엑세스 토큰 + 사용자 정보)  
  - 신규 사용자면 자동 회원가입 후 로그인 처리  
  - JWT 토큰 발급 → 응답  
- **Kakao 로그인**
  - 구글 로그인 방식과 동일  

---

### 📝 회원가입 기능
- `Confirm password` 클릭 → DB 조회 → 사용 가능 여부 응답  
- `Sign up` 클릭:
  - 입력 정보 DB 저장 (비밀번호 암호화)  
  - JWT 토큰 발급  
  - **성공** → 성공 응답  
  - **실패** → 실패 응답  

---

### 🔍 Analysis 기능
- `Analysis` 클릭 시 토큰 유효성 확인
  - 유효 → 성공 응답  
  - 비유효 → 실패 응답  
- **QR 스캔 아이콘 동작**
  - 프론트에서 이미지 수신  
  - Spring 서버 → DB 저장 → Python 전달  
  - Python에서 피싱 판별 → 결과 DB 저장  
  - 결과 프론트로 반환 → 결과 페이지 표시  
- **QR Analysis History**
  - DB에서 이전 기록 조회  
  - Title 클릭 시 해당 결과 반환  
  - **페이지네이션**:  
    - 예시 쿼리 → `SELECT * FROM analysis LIMIT 10 OFFSET 10;`  
- **QR Analysis Result**
  - 제목 추가 시 → DB에 제목 업데이트 → 응답 반환  

---

### 💬 Community 기능
- 게시글 목록 조회 → DB에서 데이터 반환  
- 게시글 세부사항:
  - 제목, 내용, 사진, URL, 댓글 반환  
- 최신 댓글:
  - DB에서 최근 1개 댓글 조회  
- 댓글 Drawer:
  - 전체 댓글 목록 조회  
- 댓글 작성:
  - DB에 저장 → 성공 시 목록 갱신  
- **페이지네이션 쿼리 예시**
  ```sql
  SELECT * FROM posts LIMIT 10 OFFSET 10;
