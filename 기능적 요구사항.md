# 🧩 Front

- 헤더
    
    로그인 여부 판단 ← 토큰
    
    - 로고: 누르면 메인페이지로
    - analysis: qr scan 페이지로 이동
    - my post: my post 페이지로 이동
    - community: community 페이지로 이동
    - login 버튼: login 페이지로 이동
    - 로그인 하지 않고 탭 클릭 → 로그인 요청 팝업 → 로그인 버튼 → 로그인 페이지로 이동
    
    ---
    
    <로그인 상태 시>
    
    - 아바타(프로필) : 탭 창 나타남
        - Tab - Edit profile : 회원 정보 수정 탭
            - Save changed : 수정 내용 저장
        - Tab - Delete account : 회원탈퇴 탭
            - Delete account : 회원 탈퇴 완료
    - logout 버튼: 로그아웃 & 메인화면 이동

- 메인 페이지
    - 마스코트 ( 공룡 ) 영상 중앙 배치
    - 스크롤해서 내리면
        - 상단 슬로건 “QR 보안을 더 스마트하게.”
        - 소개: “QRex란?” 섹션에 URL 구조 분석·도메인 신뢰도·AI 위험 해석 결합 설명 표시.
        - 피싱 판단: 3단 구성(안전성 DB 조회 / 도메인 위험 패턴 분석 / RAG 기반 AI 분석).
        - 기능 하이라이트: Analysis, Community, My post 섹션 요약과 설명 문구 표시.
        - 내비게이션: 상단 로고와 메뉴 링크 — QREX Logo, Analysis, Community, My post.
        - CTA: “Explore QRex” 버튼.

- 로그인 페이지
    - ID 입력
    - Password 입력
    - Login : 로그인 실행
    - SignUp : 회원가입 페이지로 이동
    - Login in with Google : Google ID 로그인 창으로 이동
    - Login in with Kakao : Kakao ID 로그인 창으로 이동

- Chatbot Agent
    - URL 텍스트 입력과 붙여넣기, 전송 버튼 지원.
    - 사용자/봇 말풍선 구분, 봇 아이콘을 마스코트로 설정
    - 챗봇 생각 중일때 로딩 인디케이터 사용.
    - 실패 시 간단 오류 메시지.
    - 모바일·데스크톱 최적화, 키보드 포커스·명도 대비 준수.

- 회원가입 페이지
    - name: 이름 입력
    - id: Id 입력
    - check 버튼: id 중복 확인
    - password: password 입력
    - cofirm password: password에서 입력한 암호 확인
    - sign up 버튼
        - 회원가입 성공 → 성공 알림 팝업→ home 버튼 → 메인 화면으로 이동
        - 회원가입 실패 → 실패 알림 팝업 → try again 버튼 → 다시 sign Up 페이지로 이동

- analysis 페이지(qr scan전 → analysis qr → qr scan 후)
    - 로그인 하지 않고 탭 클릭 → 로그인 요청 팝업 → 로그인 버튼 → 로그인 페이지로 이동
    - qr scan전 페이지(반으로 나눔. 왼쪽에는 qr scan 버튼탭, 오른쪽에는 qr analysis history 탭)
    - analyzing qr 페이지: analyzing 값 나오기 전 progress 막대(진행 상태에 따라 막대 바 채워지는 애니메이션 형태로 시각화) 띄워 피싱 여부 판별 진행 중 임을 표시 → 종료 시 qr scan 후 페이지 이동
    - qr scan 후( 반으로 나눔. 왼쪽에는 qr analysis result 탭, 오른쪽에는 qr analysis history 탭)
    - qr scan 아이콘 탭
        - qr 스캔 아이콘: 사진 보관함/사진 찍기/ 파일 선택 탭 중 하나 선택 하여 qr 스캔 → analyzing qr 페이지 이동
            - 사진 보관함 : 갤러리 실행
            - 사진 찍기 : 카메라 실행
            - 파일 선택 : 파일 탐색기 실행
    - qr analysis history: 그동안 피싱여부 판별해 보았던 기록 확인
        - qr analysis history 글자: qr analysis history 맨 앞 페이지로 이동
        - title 클릭: 왼쪽에 Title에 해당하는 qr analysis results 페이지 띄움
        - 페이지네이션
    - qr anaysis result
        - 상태: 안전/주의/위험
        - url: qr을 스캔하였을때 연결되는 url 표시
        - 제목: 사용자가 직접 입력
        - ip address: qr 스캔하였을때 연결되는 url의 iP 주소 표시
        - submit 버튼: 제목 사용자 저장용
            - sybmit 성공 → 팝업 → qr analysis history에 기록 추가
            - 실패시 → 팝업

- community 페이지
    - community 글자: 누르면 가장 최근 게시글이 나와있는 페이지로 이동
    - 게시글 목록 : 각 제목 클릭 시 게시글 세부사항 ( 제목, 내용, 사진, 댓글 등 ) 팝업 or 사이트 탭 형식으로 등장
    - 게시글 세부사항 : 제목, 내용, 사진, URL, 댓글.
        - 댓글 : 최신 댓글 1개 표시 → 누르면 댓글 Drawer (내용 바로 하단까지) → 댓글 목록 및 댓글 작성 칸 & Submit 버튼 → 댓글 등록

- my post 페이지
    - 게시글 작성 (왼)
        - 사진 첨부 : 장치에 저장된 사진 첨부 가능
        - 제목 : 제목 작성
        - URL : QR이 연결하는 URL
        - 내용 : 사용자가 다른 사용자와 공유할 정보 작성
        - Write 버튼 : 게시글 등록 완료
    - My post 기록 (오)
        - my post 글자: my post 누르면 가장 최근 게시물이 나와있는 페이지로 이동
        - 게시글 목록 : 사용자가 작성한 모든 포스트 목록이 나타남(페이지네이션)

---

# ⚙️ back

# ☕ Java

- 헤더
    
    로그인 시 토큰 발급
    
    <로그인 상태 시>
    
    - 회원 정보 수정 버튼 누르면 수정한 정보가 백엔드 → db 전달 및 수정 → 회원정보 수정 되었다는 응답을 프론트로
    - 회원 탈퇴 버튼 누르면 백엔드 → db 전달 및 회원정보 삭제 →백엔드 토큰 삭제 →  삭제 완료 됐다는 응답을 프론트로

- 로그인 페이지
    - 로그인 버튼 누르면 → 백엔드 → db 데이터 베이스의 아이디와 비밀번호가 저장된 번호와 일치하는지 비교 → 정보가 일치하면 백엔드 jwt 토큰 발급 → (성공/실패)응답을 프론트에 전달
    - 구글 로그인 버튼 누르면 → (구글로그인하면 프론트에 발급되는 인가 코드) 백엔드에 인가코드 전달 → 백엔드에서 자신의 client id, client secret과 함께 구글 인증서버로 보냄 → (구글이 정보 유효성 판단하고) 구글에서 엑세스토큰과 사용자 정보 받아옴 → 엑세스 토큰 이용해 기존 회원은 로그인 처리, 신규 회원은 자동 회원가입 및 로그인 처리 → Jwt 토큰 발급 → (성공/실패)응답을 프론트에 전달
    - 카카오톡 로그인 방식도 구글 로그인 방식과 유사

- 회원가입 페이지
    - cofirm password 버튼 누르면 → DB 조회 → 사용 가능 여부 응답 → 프론트로 전달
    - 회원가입 성공 : 성공 알림 응답 → sign up 버튼을 누르면 입력한 정보가 백엔드 → db 전달(비밀번호는 암호화), DB에 사용자 정보 저장 → 로그인 처리 → Jwt 토큰 발급 → 성공 응답 프론트에 전달
    - 회원가입 실패 : 실패 알림 응답

- analysis 페이지(qr scan전 → analysis qr → qr scan 후)
    - anaysis 글자 클릭 → 토큰 유효한지 확인
        - (토큰 유효)→  성공 응답 프론트에 전달
        - (토큰 비유효) → 실패 응답 프론트에 전달
    - qr scan 아이콘 탭
        - qr 스캔 아이콘:
            - 프론트에서 이미지 수신 → 스프링 → db저장& python 전달→ python에서 피싱 판별→ 분석 결과 DB에 저장 → 프론트로 전달 → 왼쪽에 QR analysis result 페이지 표시
    - qr analysis history: 그동안 피싱여부 판별해 보았던 기록 확인
        - 이전 분석 기록 DB 조회 → 결과 반환
        - title 클릭: 해당 QR 분석 결과 DB 조회 → 결과 반환 → 왼쪽에 QR analysis result 페이지 표시
        - 페이지네이션 : DB 조회: **전체 데이터 중 11번째부터 20번째까지의 데이터만 가져오도록 쿼리**를 실행 →결과 반환
    - qr anaysis result
        - 제목 넣고버튼 → 연결된 피싱 anlysis db 기록에 제목 추가 → 결과 응답 프론트에 전달

- community 페이지
    - 게시글 목록 : 각 게시글 제목 클릭 → DB 조회 → 해당 게시글 세부사항 반환 → 프론트에서 형식에 따라 게시글 표시
    - 게시글 세부사항 : 제목, 내용, 사진, URL, 댓글을 백엔드에서 DB 조회 → 결과 반환
        - 최신 댓글 : DB에서 가장 최근에 생성된 댓글 가져옴 → 프론트에 전달
        - 댓글 Drawer: 최신 댓글 클릭 → DB 조회 → 전체 댓글 목록 반환
        - 댓글 작성 : submit 버튼 클릭 → DB에 저장 → 저장 성공 시 성공 응답 → 프론트에서 목록 갱신
        - 페이지네이션 : DB 조회: **전체 데이터 중 11번째부터 20번째까지의 데이터만 가져오도록 쿼리**를 실행 → 결과 반환

- my post 페이지
    - 게시글 작성 (왼)
        - Write 버튼 → 게시글 내용 db에 저장 (→ 제목과 내용 적지 않으면 오류 응답)→ 응답 반환
    - My post 기록 (오)
        - my post 글자: my post 누르면 가장 최근 게시물이 나와있는 페이지로 이동
        - 게시글 목록: db 조회:  사용자가 작성한 게시글 select문 → 결과 반환
        - 페이지네이션 : DB 조회: **전체 데이터 중 11번째부터 20번째까지의 데이터만 가져오도록 쿼리**를 실행 →결과 반환

- spring ai와 연동
    - AI 챗봇 중계 API: ‎`/api/ai/chat` — 프론트와 AI 서버 사이를 백엔드가 중계.
    - AiProxyController: 프론트엔드와 AI 서버 간 직접 통신을 차단하고 결과를 전달.
        - 보안: AI 서버의 IP/포트를 외부에 노출하지 않음.
        - 인증 연계: 로그인 사용자는 실제 DB ID, 비로그인 사용자는 임시 ID로 대화 맥락 유지.
    - RAG 연동: 백엔드가 AI RAG Server(포트 8081)로 요청을 전달하고 결과 저장.
    - 인증/토큰: JWT 기반 인증, 로그아웃 시 Blacklist로 토큰 무효화(챗봇 호출 보호).
